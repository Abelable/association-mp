<import src="/templates/i-empty-illus/index.wxml"/>

<view class="nav-bar-wrap" style="padding-top: {{statusBarHeight}}px;">
  <view class="nav-bar">
    <image class="back-icon" ontap="navBack" src="https://img.ubo.vip/mp/search/back.png" />
    <view class="search-bar">
      <image class="search-icon" src="https://img.ubo.vip/mp/index/search/index-search.png" />
      <input class="search-input" value="{{keyword}}" bindinput="setKeyword" bindconfirm="search" placeholder="请输入您要搜索的内容" type="text" confirm-type="search" />
      <image class="clear-icon" wx:if="{{keyword}}" src="https://img.ubo.vip/mp/search/clear-search.png" ontap="clearKeyword" />
      <view class="search-btn" ontap="search">搜索</view>
    </view>
  </view>
  <view class="menu" wx:if="{{searchStatus}}">
    <view class="menu-item {{curMenuIdx === index ? 'active' : ''}}" wx:for="{{menuList}}" wx:key="index" ontap="selectMenu" data-index="{{index}}">{{item}}</view>
  </view>
</view>


<view class="search-history" wx:if="{{!searchStatus && historyKeywords.length}}" style="padding-top: {{statusBarHeight + 69}}px;">
  <view class="history-title">
    <view>历史搜索</view>
    <image class="delete-icon" ontap="clearHistoryKeywords" src="./images/delete.png" />
  </view>
  <view class="keyword-list">
    <view class="keyword" wx:for="{{historyKeywords}}" wx:key="index" ontap="selectKeyword" data-keyword="{{item}}">{{item}}</view>
  </view>
</view>

<view class="container" wx:if="{{searchStatus}}" style="margin-top: {{statusBarHeight + 88}}px;">
  <view class="title" wx:if="{{curMenuIdx === 0 && lowList.length}}">法律汇编</view>
  <i-low-list wx:if="{{curMenuIdx !== 2}}" list="{{lowList}}" />

  <view class="title" style="margin-top: 30rpx;" wx:if="{{curMenuIdx === 0 && thinkList.length}}">网商智库</view>
  <i-think-list wx:if="{{curMenuIdx !== 1}}" list="{{thinkList}}" />
  
  <view class="empty-illus-wrap" wx:if="{{(curMenuIdx === 0 && !lowList.length && !thinkList.length) || (curMenuIdx === 1 && !lowList.length) || (curMenuIdx === 2 && !thinkList.length)}}">
    <template is="i-empty-illus" data="{{desc: '暂无相关内容'}}" />
  </view>
</view>